<!-- Erik fileSearch.html -->

<template name="fileSearch">
    {{> navbar }}
    <!-- do work and your divs here -->
    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <div class="dTable">
        <table id="dItems">
            <tr>
                <th button onclick="w3.sortHTML('#dItems', '.item', 'td:nth-child(1)')">Date</th>
                <th button onclick="w3.sortHTML('#dItems', '.item', 'td:nth-child(2)')">Name</th>
                <th button onclick="w3.sortHTML('#dItems', '.item', 'td:nth-child(3)')">Uploader</th>
                <th button onclick="w3.sortHTML('#dItems', '.item', 'td:nth-child(4)')">Size</th>
            </tr>
            {{#with allFiles }}
            {{#each allFiles }}    
            <tr class="item">
                <td>{{ fDate }}</td>
                <td><a href="/Files/{{ _id }}{{ extensionWithDot }}" download="{{ name }}{{ extensionWithDot }}">{{ name }}</a></td>
                <td>{{ fUser }}</td> 
                <td>{{ fSize }}</td>
            </tr>
            {{/each}}
            {{/with}}       
        </table>
    </div>

    </template>

<!-- meteor:PRIMARY> db.Files.find().pretty()
{
        "_id" : "6nMNp2zSniPB2KoLA",
        "size" : 2729,
        "type" : "text/plain",
        "name" : "go rpoject.txt",
        "meta" : {
        "isAudio" : false,
        "isImage" : false,
        "isText" : true,
        "isJSON" : false,
        "isPDF" : false,
        "_storagePath" : "../../../../../public/Files",
        "public" : false
} -->